<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Інноваційна шкільна їдальня</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #4A90E2, #D5E1DF);
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        #menu-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            max-height: 60vh;
            overflow-y: auto;
            padding: 20px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            transition: background 0.3s;
        }

        #menu-items:hover {
            background: rgba(255, 255, 255, 1);
        }

        .item {
            background: rgba(255, 255, 255, 0.6);
            padding: 15px;
            margin: 10px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            width: calc(30% - 20px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        button {
            padding: 10px 15px;
            margin-top: 10px;
            background: #28a745;
            border: none;
            border-radius: 50px;
            color: #fff;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
            position: relative;
        }

        button:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        #cart-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #007bff;
            color: #fff;
            padding: 15px 20px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        #cart-button:hover {
            transform: scale(1.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        #cart-page {
            display: none;
            padding: 40px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            transition: opacity 0.5s ease;
        }

        img {
            width: 100%; 
            height: 150px; 
            object-fit: cover; 
            border-radius: 8px; 
        }

        .stars-count {
            font-size: 1.2rem;
            margin-top: 10px;
        }

        #games-page {
            display: none;
            padding: 40px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            transition: opacity 0.5s ease;
        }

        #stars-counter {
            font-size: 1.5rem;
            margin-bottom: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="main-page">
        <h1>Меню</h1>
        <div id="stars-counter">Ваші зірочки: 0</div>
        <div id="menu-items"></div>
        <button id="cart-button" onclick="goToCart()">Кошик (0)</button>
        <button onclick="goToGames()">Ігри</button>
    </div>

    <div id="cart-page" style="display:none;">
        <h1>Ваш кошик</h1>
        <div id="cart-items"></div>
        <div id="cart-total">Всього: 0 зірочок</div>
        <button onclick="goBack()">Повернутися додому</button>
        <button onclick="buyItems()">Купити</button>
    </div>

    <div id="games-page">
        <h1>Ігри</h1>
        <div class="game">
            <h2>Гра 1: Вгадай число</h2>
            <p>Вгадайте число від 1 до 10. Якщо вгадаєте, отримуєте 2 зірочки!</p>
            <button onclick="playGuessingGame()">Грати</button>
            <div class="stars-count" id="stars-count-game1">Зірочки: 0</div>
        </div>
        <div class="game">
            <h2>Гра 2: Картки на пам'ять</h2>
            <p>Спробуйте знайти пари карток! Якщо знайдете, отримуєте 3 зірочки!</p>
            <button onclick="playMemoryGame()">Грати</button>
            <div class="stars-count" id="stars-count-game2">Зірочки: 0</div>
        </div>
        <div class="game">
            <h2>Гра 3: Кидок кубика</h2>
            <p>У вас є 3 спроби на день. Якщо вам випаде 6, ви отримаєте 5 зірочок!</p>
            <button onclick="playDiceGame()">Грати</button>
            <div class="stars-count" id="stars-count-game3">Зірочки: 0</div>
        </div>
        <button onclick="goBackFromGames()">Повернутися додому</button>
    </div>

<script>
    let cart = [];
    let totalStars = 0; // Загальна кількість зірочок
    let diceAttempts = 0; // Лічильник спроб для гри з кубиком
    let starsGame1 = 0;
    let starsGame2 = 0;
    let starsGame3 = 0;

    // Перевіряємо, чи є щось в Local Storage
    if (localStorage.getItem('cart')) {
        cart = JSON.parse(localStorage.getItem('cart'));
        updateCartCounter(); // Оновлюємо лічильник при завантаженні
    }

    // Меню товарів
    const menuItems = [
        { name: "Сендвіч з куркою", price: 5, description: "Сендвіч з куркою, свіжими овочами та соусом.", image: "https://cdn.meta.ua/meta_news/85/01002irt-858e_1280x720.jpeg" },
        { name: "Сендвіч з тунцем", price: 6, description: "Сендвіч з тунцем, листям салату та соусом.", image: "https://i.obozrevatel.com/food/recipemain/2019/3/19/s1200.jpg?size=636x424" },
        { name: "Вегетаріанський сендвіч", price: 4.5, description: "Сендвіч з свіжими овочами.", image: "https://kanapulka.com.ua/image/cache/catalog/recipe/veggie-sandwich/veggie-sandwich-1-1140x400.jpg" },
        
    ];

    // Відображаємо меню
    function displayMenuItems() {
        const menuContainer = document.getElementById('menu-items');
        menuItems.forEach(item => {
            const div = document.createElement('div');
            div.className = 'item';
            div.innerHTML = `
                <img src="${item.image}" alt="${item.name}">
                <h3>${item.name}</h3>
                <p>${item.description}</p>
                <p>Ціна: ${item.price} зірочок</p>
                <button onclick="addToCart('${item.name}', ${item.price})">Додати до кошика</button>
            `;
            menuContainer.appendChild(div);
        });
    }

    displayMenuItems();

    // Функції переходів між сторінками
    function goToCart() {
        document.getElementById('main-page').style.display = 'none';
        document.getElementById('cart-page').style.display = 'block';
        displayCartItems();
    }

    function goToGames() {
        document.getElementById('main-page').style.display = 'none';
        document.getElementById('games-page').style.display = 'block';
    }

    function goBack() {
        document.getElementById('cart-page').style.display = 'none';
        document.getElementById('main-page').style.display = 'block';
    }

    function goBackFromGames() {
        document.getElementById('games-page').style.display = 'none';
        document.getElementById('main-page').style.display = 'block';
    }

    // Кошик
    function addToCart(itemName, itemPrice) {
        cart.push({ name: itemName, price: itemPrice });
        totalStars += itemPrice; // Додаємо до загальної кількості зірочок
        updateStarsCounter(); // Оновлюємо лічильник зірочок на головному екрані
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCounter();
        alert(`${itemName} додано до кошика.`);
    }

    function updateStarsCounter() {
        document.getElementById('stars-counter').innerText = `Ваші зірочки: ${totalStars}`;
    }

    function updateCartCounter() {
        document.getElementById('cart-button').innerText = `Кошик (${cart.length})`;
    }

    function displayCartItems() {
        const cartContainer = document.getElementById('cart-items');
        cartContainer.innerHTML = '';
        cart.forEach(item => {
            const div = document.createElement('div');
            div.innerText = `${item.name} - ${item.price} зірочок`;
            cartContainer.appendChild(div);
        });
        document.getElementById('cart-total').innerText = `Всього: ${totalStars} зірочок`;
    }

    function buyItems() {
        if (totalStars > 0) {
            alert('Дякуємо за покупку!');
            cart = [];
            totalStars = 0;
            localStorage.removeItem('cart');
            updateStarsCounter(); // Оновлюємо лічильник зірочок після покупки
            updateCartCounter();
            displayCartItems();
        } else {
            alert('Ваш кошик порожній!');
        }
    }

    // Ігри
    function playGuessingGame() {
        const userGuess = parseInt(prompt("Вгадайте число від 1 до 10:"));
        const randomNumber = Math.floor(Math.random() * 10) + 1;

        if (userGuess === randomNumber) {
            starsGame1 += 2;
            totalStars += 2; // Додаємо зірочки до загальної кількості
            alert(`Вітаємо! Ви вгадали число ${randomNumber}. Ви отримали 2 зірочки!`);
        } else {
            alert(`На жаль, ви не вгадали. Правильне число ${randomNumber}.`);
        }
        document.getElementById('stars-count-game1').innerText = `Зірочки: ${starsGame1}`;
        updateStarsCounter(); // Оновлюємо лічильник зірочок
    }

    function playMemoryGame() {
        const pairsFound = Math.floor(Math.random() * 5); // Симуляція кількості знайдених пар
        starsGame2 += pairsFound * 3; // 3 зірочки за кожну пару
        totalStars += pairsFound * 3; // Додаємо зірочки до загальної кількості
        alert(`Ви знайшли ${pairsFound} пар! Отримали ${pairsFound * 3} зірочок!`);
        document.getElementById('stars-count-game2').innerText = `Зірочки: ${starsGame2}`;
        updateStarsCounter(); // Оновлюємо лічильник зірочок
    }

    function playDiceGame() {
        if (diceAttempts >= 3) {
            alert('Ви вже використали всі спроби на сьогодні!');
            return;
        }

        const diceRoll = Math.floor(Math.random() * 6) + 1;
        diceAttempts++;

        if (diceRoll === 6) {
            starsGame3 += 5;
            totalStars += 5; // Додаємо зірочки до загальної кількості
            alert(`Ви кинули кубик і випало ${diceRoll}. Ви отримали 5 зірочок!`);
        } else {
            alert(`Ви кинули кубик і випало ${diceRoll}. Спробуйте ще раз!`);
        }
        document.getElementById('stars-count-game3').innerText = `Зірочки: ${starsGame3}`;
        updateStarsCounter(); // Оновлюємо лічильник зірочок
    }

</script>
</body>
</html>
